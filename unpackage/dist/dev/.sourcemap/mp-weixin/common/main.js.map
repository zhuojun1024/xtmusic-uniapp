{"version":3,"sources":["uni-app:///main.js","webpack:////Users/zhuojun/Documents/HBuilderXProject/xtmusic-uniapp/App.vue?0715","webpack:////Users/zhuojun/Documents/HBuilderXProject/xtmusic-uniapp/App.vue?8619",null,"webpack:////Users/zhuojun/Documents/HBuilderXProject/xtmusic-uniapp/App.vue?7706","uni-app:///App.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","config","productionTip","App","mpType","app","store","$mount"],"mappings":";;;;;;;;;;iDAAA;;AAEA;AACA;AACA,4E,wnCAJmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;;AAMnBC,aAAIC,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;;AAEAC,aAAIC,MAAJ,GAAa,KAAb;;AAEA,IAAMC,GAAG,GAAG,IAAIL,YAAJ;AACVM,OAAK,EAALA,cADU;AAEPH,YAFO,EAAZ;;AAIA,UAAAE,GAAG,EAACE,MAAJ,G;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAA0+C,CAAgB,g6CAAG,EAAC,C;;;;;;;;;;;ACA9/C;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACc;;;AAGhE;AAC0M;AAC1M,gBAAgB,iNAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAmyB,CAAgB,iyBAAG,EAAC,C;;;;;;;;;;;;;ACCvzB;AACA,gF;;;;;;;;;;;;;AAaA;AACA,MADA,kBACA;AACA;AACA,sBADA;;AAGA,GALA;AAMA;AACA,YADA,sBACA;AACA;AACA,KAHA;AAIA,OAJA,iBAIA;AACA;AACA,KANA,EANA;;AAcA;AACA;AACA;AACA;AACA;AACA,GAnBA;AAoBA;AACA;AACA;AACA;AACA,KAFA,EAEA,QAFA;AAGA;AACA,GA1BA;AA2BA;AACA;AACA,GA7BA;AA8BA;AACA,eADA,yBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAZA;AAaA,iBAbA,2BAaA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,SAFA;AAGA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/BA;AAgCA,uBAhCA,iCAgCA;AACA;AACA,cADA;AAEA,eAFA;AAGA,cAHA;AAIA,eAJA;AAKA,oBALA;AAMA,cANA;AAOA;AACA;AACA;AATA;AAWA;AACA;AACA;AACA;AACA;AACA,KAjDA;AAkDA,UAlDA,oBAkDA;AACA;AACA,KApDA;AAqDA,WArDA,qBAqDA;AACA;AACA,KAvDA;AAwDA,UAxDA,oBAwDA;AACA;AACA,KA1DA;AA2DA,WA3DA,qBA2DA;AACA;AACA;AACA;AACA,KA/DA;AAgEA,gBAhEA,0BAgEA;AACA;AACA;AACA,KAnEA;AAoEA,UApEA,oBAoEA;AACA;AACA,KAtEA;AAuEA,UAvEA,oBAuEA;AACA;AACA,KAzEA;AA0EA,eA1EA,yBA0EA;AACA;AACA;AACA,OAFA,EAEA,KAFA,CAEA;AACA;AACA,OAJA;AAKA,KAhFA;AAiFA,eAjFA,yBAiFA;AACA;AACA;AACA;AACA,OAFA,EAEA,KAFA,CAEA;AACA;AACA,OAJA;AAKA,KAxFA,EA9BA,E","file":"common/main.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\n\nimport Vue from 'vue'\nimport App from './App'\nimport store from './store'\n\nVue.config.productionTip = false\n\nApp.mpType = 'app'\n\nconst app = new Vue({\n  store,\n  ...App\n})\napp.$mount()","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1647483555046\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\n  import api from '@/api/music.js'\n  import {\n    GET_USER_INFO,\n    SET_BAM,\n    TIME_UPDATE,\n    SET_DURATION,\n    SET_PAUSED,\n    PLAY_PREV,\n    PLAY_NEXT,\n    SET_TONE_QUALITY,\n    SET_PLAY_MODE,\n    ON_ENDED,\n    SET_LIKE_LIST_IDS\n  } from '@/store/mutations-types.js'\n\texport default {\n    data () {\n      return {\n        timer: undefined\n      }\n    },\n    computed: {\n      userInfo () {\n        return this.$store.getters.userInfo\n      },\n      bam () {\n        return this.$store.getters.bam\n      }\n    },\n\t\tonLaunch: function() {\n      // 读取设置\n      this.getSettings()\n      // 添加背景音乐事件监听\n      this.addBAMEventListener()\n\t\t},\n\t\tonShow: function() {\n      clearTimeout(this.timer)\n      this.timer = setTimeout(() => {\n        this.$nextTick(this.hasPermission)\n      }, 1000 * 2)\n\t\t\tconsole.log('App Show')\n\t\t},\n\t\tonHide: function() {\n\t\t\tconsole.log('App Hide')\n\t\t},\n    methods: {\n      getSettings () {\n        // 音质\n        const toneQuality = uni.getStorageSync('toneQuality')\n        if (toneQuality) {\n          this.$store.commit(SET_TONE_QUALITY, toneQuality)\n        }\n        // 播放模式\n        const playMode = uni.getStorageSync('playMode')\n        if (playMode) {\n          this.$store.commit(SET_PLAY_MODE, playMode)\n        }\n      },\n      hasPermission () {\n        // 判断登录状态\n        const cookie = uni.getStorageSync('cookie')\n        if (!cookie) {\n          uni.reLaunch({ url: '/pages/login/login' })\n        } else if (!this.userInfo.userId) {\n          this.getUserInfo().finally(() => {\n            this.getLikeList()\n          })\n        } else {\n          // 如果已经有登录信息和用户信息，但是在登录页，则跳到首页\n          const currentPages = getCurrentPages()\n          const currentPage = currentPages[currentPages.length - 1] || {}\n          const currentRoute = currentPage.route\n          if ([undefined, 'pages/login/login', 'pages/welcome/welcome'].includes(currentRoute)) {\n            uni.switchTab({ url: '/pages/search/search' })\n          }\n        }\n      },\n      addBAMEventListener () {\n        const events = [\n          'onPlay',\n          'onPause',\n          'onStop',\n          'onEnded',\n          'onTimeUpdate',\n          'onPrev',\n          'onNext'\n          // 'onWaiting',\n          // 'onCanplay'\n        ]\n        for (const event of events) {\n          if (typeof this.bam[event] === 'function') {\n            this.bam[event](this[event])\n          }\n        }\n      },\n      onPlay () {\n        this.$store.commit(SET_PAUSED, this.bam.paused)\n      },\n      onPause () {\n        this.$store.commit(SET_PAUSED, this.bam.paused)\n      },\n      onStop () {\n        this.$store.commit(SET_PAUSED, this.bam.paused)\n      },\n      onEnded () {\n        this.$store.commit(SET_PAUSED, this.bam.paused)\n        // this.$store.dispatch(PLAY_NEXT)\n        this.$store.dispatch(ON_ENDED)\n      },\n      onTimeUpdate () {\n        this.$store.commit(TIME_UPDATE, this.bam.currentTime)\n        this.$store.commit(SET_DURATION, this.bam.duration)\n      },\n      onPrev () {\n        this.$store.dispatch(PLAY_PREV)\n      },\n      onNext () {\n        this.$store.dispatch(PLAY_NEXT)\n      },\n      getUserInfo () {\n        return this.$store.dispatch(GET_USER_INFO).then(res => {\n          uni.switchTab({ url: '/pages/search/search' })\n        }).catch(() => {\n          uni.reLaunch({ url: '/pages/login/login' })\n        })\n      },\n      getLikeList () {\n        const params = { uid: this.userInfo.userId }\n        api.getLikeList(params).then(res => {\n          this.$store.commit(SET_LIKE_LIST_IDS, res.ids || [])\n        }).catch(e => {\n          console.error('获取用户喜欢id列表失败：', e)\n        })\n      }\n    }\n\t}\n</script>\n\n<style lang=\"scss\">\n  $theme_color: #EA2000;\n\t/*每个页面公共css */\n\t@import '@/uni_modules/uni-scss';\n\t/* #ifndef APP-NVUE */\n  // 自定义图标\n\t@import '@/static/iconfont.css';\n\t// 设置整个项目的背景色\n\tpage {\n    width: 100vw;\n\t\tbackground-color: #f5f5f5;\n\t}\n  .button-default {\n    color: white;\n    background-color: $theme_color;\n    border: none;\n  }\n\n\t/* #endif */\n\t.example-info {\n\t\tfont-size: 14px;\n\t\tcolor: #333;\n\t\tpadding: 10px;\n\t}\n</style>\n"],"sourceRoot":""}