{"version":3,"sources":["webpack:////Users/zhuojun/Documents/HBuilderXProject/xtmusic-uniapp/components/play-list-track/play-list-track.vue?30fe","webpack:////Users/zhuojun/Documents/HBuilderXProject/xtmusic-uniapp/components/play-list-track/play-list-track.vue?9aa8","webpack:////Users/zhuojun/Documents/HBuilderXProject/xtmusic-uniapp/components/play-list-track/play-list-track.vue?ba6c","webpack:////Users/zhuojun/Documents/HBuilderXProject/xtmusic-uniapp/components/play-list-track/play-list-track.vue?c845","uni-app:///components/play-list-track/play-list-track.vue","webpack:////Users/zhuojun/Documents/HBuilderXProject/xtmusic-uniapp/components/play-list-track/play-list-track.vue?909d","webpack:////Users/zhuojun/Documents/HBuilderXProject/xtmusic-uniapp/components/play-list-track/play-list-track.vue?d5bc"],"names":[],"mappings":"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","file":"components/play-list-track/play-list-track.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./play-list-track.vue?vue&type=template&id=7ecef530&scoped=true&\"\nvar renderjs\nimport script from \"./play-list-track.vue?vue&type=script&lang=js&\"\nexport * from \"./play-list-track.vue?vue&type=script&lang=js&\"\nimport style0 from \"./play-list-track.vue?vue&type=style&index=0&id=7ecef530&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ecef530\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/play-list-track/play-list-track.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play-list-track.vue?vue&type=template&id=7ecef530&scoped=true&\"","var components\ntry {\n  components = {\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    playListTrackAdd: function() {\n      return import(\n        /* webpackChunkName: \"components/play-list-track-add/play-list-track-add\" */ \"@/components/play-list-track-add/play-list-track-add.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniPopupDialog: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog\" */ \"@/uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.data, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = _vm.likeListIds.includes(item.id)\n    return {\n      $orig: $orig,\n      g0: g0\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function(v) {\n      return (_vm.visible = v)\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play-list-track.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play-list-track.vue?vue&type=script&lang=js&\"","<template>\n  <view>\n    <scroll-view\n      scroll-y\n      :style=\"{ height }\"\n      @scrolltolower=\"$emit('scrolltolower')\"\n    >\n      <view\n        v-for=\"(item, index) of data\"\n        :key=\"item.id\"\n        :class=\"{ 'music-list-item': true, disabled: item.st === -200 || item.noCopyrightRcmd }\"\n        @click=\"playMusic(item)\"\n      >\n        <view>{{ index + 1 }}</view>\n        <view>\n          <view>{{ item.name }}</view>\n          <view>\n            <uni-icons\n              v-if=\"showLiked && likeListIds.includes(item.id)\"\n              type=\"heart-filled\"\n              size=\"12\"\n              color=\"#EA2000\"\n              style=\"margin-right: 4px;\"\n            />\n            <text\n              v-if=\"item.fee === 1\"\n              class=\"tag-vip\"\n            >\n              VIP\n            </text>\n            <text>{{ item.ar || '未知歌手' }}</text>\n          </view>\n        </view>\n        <view>\n          <uni-icons\n            v-if=\"currentMusic.id === item.id\"\n            type=\"sound\"\n            size=\"24\"\n            color=\"#EA2000\"\n            class=\"uni-icons\"\n          />\n          <uni-icons\n            v-if=\"showAdd\"\n            type=\"plusempty\"\n            size=\"20\"\n            color=\"#999999\"\n            class=\"uni-icons\"\n            @click.native.stop=\"showPlayList(item)\"\n          />\n          <uni-icons\n            v-if=\"showDel\"\n            type=\"closeempty\"\n            size=\"20\"\n            color=\"#999999\"\n            class=\"uni-icons\"\n            @click.native.stop=\"popupOpen(item)\"\n          />\n        </view>\n      </view>\n      <slot />\n    </scroll-view>\n    <play-list-track-add\n      v-if=\"showAdd\"\n      :visible=\"visible\"\n      :track-id=\"selectedMusicId\"\n      @change=\"v => visible = v\"\n    />\n    <uni-popup\n      ref=\"popup\"\n      type=\"dialog\"\n    >\n      <uni-popup-dialog\n        content=\"确定要将该歌曲从歌单中删除吗？\"\n        :duration=\"2000\"\n        :before-close=\"true\"\n        @close=\"popupClose\"\n        @confirm=\"popupConfirm\"\n      />\n    </uni-popup>\n  </view>\n</template>\n\n<script>\n  import api from '@/api/music.js'\n  import { SET_CURRENT_MUSIC, SET_CURRENT_MUSIC_LIST } from '@/store/mutations-types.js'\n  export default {\n    name:\"play-list-track\",\n    props: {\n      data: {\n        type: Array,\n        default: () => ([])\n      },\n      pId: {\n        type: String,\n        default: undefined\n      },\n      showAdd: {\n        type: Boolean,\n        default: false\n      },\n      showDel: {\n        type: Boolean,\n        default: false\n      },\n      showLiked: {\n        type: Boolean,\n        default: true\n      },\n      height: {\n        type: String,\n        default: ''\n      }\n    },\n    data () {\n      return {\n        selectedMusicId: undefined,\n        visible: false\n      }\n    },\n    computed: {\n      currentMusic () {\n        return this.$store.getters.currentMusic\n      },\n      likeListIds () {\n        return this.$store.getters.likeListIds\n      }\n    },\n    watch: {\n      visible (newVal) {\n        if (newVal) {\n          uni.hideTabBar({ animation: true })\n        } else {\n          uni.showTabBar({ animation: true })\n        }\n      }\n    },\n    methods: {\n      copyrighted (music) {\n        if (music.st === -200 || music.noCopyrightRcmd) {\n          uni.showToast({\n            icon: 'error',\n            title: '该音乐无版权'\n          })\n          return false\n        }\n        return true\n      },\n      popupClose () {\n        this.$refs.popup.close()\n      },\n      popupConfirm () {\n        this.$refs.popup.close()\n        const timestamp = new Date().getTime()\n        const params = {\n          op: 'del',\n          pid: this.pId,\n          tracks: String(this.selectedMusicId),\n          timestamp\n        }\n        uni.showLoading({ title: '删除中' })\n        api.updatePlayListTracks(params).then(res => {\n          uni.showToast({ icon: 'success', title: '操作成功' })\n          this.$emit('refresh')\n        }).catch(e => {\n          uni.showToast({ icon: 'error', title: '删除失败：' + e })\n          console.error('删除失败：', e)\n        }).finally(() => {\n          uni.hideLoading()\n        })\n      },\n      popupOpen (music) {\n        this.selectedMusicId = music.id\n        this.$refs.popup.open()\n      },\n      showPlayList (music) {\n        if (!this.copyrighted(music)) return\n        this.selectedMusicId = music.id\n        this.visible = true\n      },\n      playMusic (music) {\n        if (!this.copyrighted(music)) return\n        if (music.id === this.currentMusic.id) {\n          uni.navigateTo({ url: '/pages/control/control' })\n        } else {\n          this.$store.dispatch(SET_CURRENT_MUSIC, music).then(() => {\n            this.$store.commit(SET_CURRENT_MUSIC_LIST, this.data)\n          })\n        }\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n.music-list-item {\n  border-bottom: 1px solid #efefef;\n  padding: 4px 0;\n  > view {\n    display: inline-block;\n    vertical-align: middle;\n    &:first-child {\n      width: 48px;\n      color: #999999;\n      text-align: center;\n    }\n    &:nth-child(2) {\n      width: calc(100% - 128px);\n      line-height: 1.5;\n      font-size: 14px;\n      view {\n        overflow: hidden;\n        text-overflow:ellipsis;\n        white-space: nowrap;\n      }\n      view:last-child {\n        color: #999999;\n        font-size: 12px;\n        .tag-vip {\n          line-height: 1;\n          display: inline-block;\n          padding: 0 4px;\n          color: #EA2000;\n          border: 1px solid #EA2000;\n          border-radius: 3px;\n          transform-origin: 0;\n          transform: scale(0.7);\n        }\n      }\n    }\n    &:nth-child(3) {\n      width: 60px;\n      padding-right: 20px;\n      text-align: right;\n      .uni-icons {\n        display: inline-block;\n        vertical-align: middle;\n        &:last-child {\n          margin-left: 12px;\n        }\n      }\n    }\n  }\n}\n.music-list-item.disabled {\n  color: #999999;\n  > view:not(:last-child) {\n    opacity: 0.5;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play-list-track.vue?vue&type=style&index=0&id=7ecef530&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play-list-track.vue?vue&type=style&index=0&id=7ecef530&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1647483553575\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}